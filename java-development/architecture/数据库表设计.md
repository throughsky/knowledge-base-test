## Java项目基础架构（四）| 数据库表设计

## 数据库设计规范（大厂对齐·分级落地终极版）

 核心定位：融合“分级落地框架+细节精准约束”，覆盖中小→中大型→大型项目全场景，兼顾“基础合规+性能优化+可操作性”，直接适配企业全员（开发/架构/DBA/测试）对齐。

## 一、项目分级标准（落地边界唯一依据）

项目级别

核心量化指标（触发“场景选做”关键）

典型场景

核心落地重点

中小型项目

① 单表12个月预估数据量＜500万； ② 单表更新QPS＜5次/秒； ③ 无多租户、高并发、跨境场景； ④ 团队规模＜10人

内部管理系统、小电商、工具类APP后端

基础规范落地+简单性能优化，不做过度设计

中大型项目

① 单表12个月预估数据量500万-2000万； ② 单表更新QPS 5-50次/秒； ③ 轻度多租户（≤100个）、高频查询场景； ④ 团队规模10-30人

区域电商、中型SaaS、企业级CRM

分表/分区+高并发防护+多租户隔离+运维保障

大型项目

① 单表12个月预估数据量＞2000万； ② 单表更新QPS＞50次/秒； ③ 多租户（＞100个）、高并发（秒杀/大促）、跨境/强合规需求； ④ 团队规模＞30人

全国性电商、大型SaaS、金融支付系统

数据分层+容灾备份+跨境合规+大促专项优化

---

## 二、基础必遵版（所有项目无例外执行）

### 1\. 命名规范（语义优先，严格控段+细节约束）

#### 1.1 表名规则（三段为主，四段限关联表）

规则维度

具体要求

允许示例

禁止示例

格式要求

小写字母+下划线，见名知意无冗余；单段表名若为数据库关键字（如 `user`/`order`），全程用反引号包裹；非单段含关键字需包裹关键字部分

`` `user` ``、`trade_`order `_item`、`trade_order`

`users`（复数）、`yhzh`（拼音）、`tradeOrder`（驼峰）

段数限制

① 非关联表（核心/明细）：最多3段； ② 关联表/中间表：最多4段（需双评审）； ③ 绝对禁止5段及以上

`trade_order_item`（3段）、`user_role_menu_perm`（4段关联表）

`trade_order_item_refund_detail`（5段）

四段准入

仅允许“多核心实体关联表”，需满足： ① 每段都是核心维度（缺一不可）； ② 架构师+DBA双评审； ③ 注释说明关联逻辑

`trade_order_item_refund`（交易-订单-子项-退款）

`user_address_shipping_default`（非关联表四段）

特殊后缀

仅允许3类（后缀不计入段数）： ① `_history`（历史表）； ② `_bak_日期`（备份表，如 `_bak_20251126`）； ③ `_tmp`（临时表，≤7天）

`user_history`、`trade_order_bak_20251126`

`trade_order_test`（动态后缀）、`trade_order_v2`（版本后缀）

#### 1.2 字段名规则（无缩写，结构统一）

- 格式要求：小写字母+下划线，结构为「关联主体\_字段含义\_属性」（多关联主体按“核心→次要”排序），**禁止缩写**（禁用 `uid`/`tel`/`stat`，统一用 `user_id`/`mobile`/`status`）；
- 固定必加字段（所有表强制）： 字段名 类型 约束要求 作用说明 `id` `BIGINT` 非NULL，主键 唯一标识记录 `create_time` `DATETIME(3)` 非NULL，默认UTC当前时间 记录创建时间（毫秒级） `update_time` `DATETIME(3)` 非NULL，自动更新UTC时间 记录更新时间（毫秒级） `delete_time` `DATETIME(3)` 允许NULL 软删除标记（未删除为NULL） - 空值与默认值规则：
- 禁止事项：语义重复（如 `mobile`和 `phone`并存）、混合中英文（如 `user_地址`）、字段名超64字符。

#### 1.3 索引名规则（类型前缀+排序标注）

### 2\. 表结构设计（骨架级约束，兼容+性能）

配置项

强制要求

禁止项

说明

存储引擎

MySQL用 `InnoDB`；PostgreSQL用默认表类型

MyISAM（无事务、表级锁）

支持事务、行锁，适配高并发

字符集

全表统一 `utf8mb4`

`utf8`（不支持emoji/国际字符）

兼容中文、emoji、海外字符

排序规则

MySQL5.7：`utf8mb4_unicode_ci`；MySQL8.0+：`utf8mb4_0900_ai_ci`

多环境排序规则不一致

保证查询排序结果一致

主键设计

① 名称 `id`，类型 `BIGINT`； ② 单机场景：自增（MySQL `AUTO_INCREMENT`、PostgreSQL `SERIAL8`）； ③ 分布式场景：雪花算法变种（如美团Leaf），配置时钟回拨阈值≤5ms

① `INT`（溢出风险）、`UUID`（性能差）、`VARCHAR`（无序）； ② 复合主键、更新主键字段

适配分布式与海量数据，避免ID冲突

外键处理

禁用物理外键（`FOREIGN KEY`），用逻辑外键（如 `order.user_id`关联 `user.id`）

依赖数据库 `ON DELETE CASCADE`

避免数据库级联锁，提升批量操作性能

多环境一致性

开发/测试/预发/生产环境：表结构、索引、字符集、排序规则完全一致

测试环境用 `utf8`、生产用 `utf8mb4`；测试表无索引、生产表有索引

避免环境差异导致的线上问题

版本兼容性

区分数据库版本差异： ① MySQL5.7不支持 `DATETIME(3)`自动更新，需用触发器； ② PostgreSQL适配 `SERIAL8`主键

忽略版本差异导致SQL执行失败

保证跨版本兼容性

### 3\. 字段设计（精准选型，零冗余+合规）

#### 3.1 数据类型强制匹配（避免性能/精度问题）

业务场景

强制类型

禁止类型

配置说明

核心金额（订单/支付/结算）

`DECIMAL(16,4)`

`FLOAT`/`DOUBLE`（精度丢失）

适配跨境大额结算，如“1000000.1234元”

非核心金额（优惠/积分）

`DECIMAL(8,4)`

`FLOAT`/`DOUBLE`

小额场景精简精度，不浪费存储

手机号/国际电话

`CHAR(20)`

`VARCHAR(11)`（仅支持国内号）

存储规范：无空格/特殊符号，国际号前缀加+（如 `+8613800138000`）

身份证/海外证件

`CHAR(32)`

`VARCHAR(18)`（短证件号不够）

适配海外长证件号，如护照号

状态类（订单/用户/商品）

`TINYINT UNSIGNED`（0-255）

`VARCHAR(10)`（文本低效）

注释必须标注枚举（如“0-待支付 1-已支付 2-已取消”），预留≥30%空闲值

时间类（创建/更新/分区）

`DATETIME(3)`（核心表）/`TIMESTAMP(3)`（日志表）

`TIMESTAMP`（2038年失效）、无毫秒 `DATETIME`

统一UTC时区存储，业务层转换为本地时区；日志表用 `TIMESTAMP(3)`节省存储

文本类

① 姓名：`VARCHAR(64)`； ② 地址：`VARCHAR(512)`； ③ 超大文本（订单备注）：单独建表存储（如 `order_remark`）

核心表用 `TEXT`类型存储超大文本

避免大字段影响查询性能

二进制/大文件

`VARCHAR(512)`（存储OSS/S3 URL）

数据库存储二进制数据（`BLOB`）

降低数据库存储压力，提升访问速度

幂等性标识（对外接口表）

`VARCHAR(64)`

\-

生成规则：UUID v4或雪花算法，设为唯一索引（`uniq_xxx_request_id`）

数据留存天数

`BIGINT NOT NULL`

\-

默认值：金融≥1825天，电商≥365天，普通业务≥90天，注释标注合规依据

#### 3.2 隐私数据脱敏规则（开发/测试环境强制）

数据类型

脱敏规则

示例

手机号

保留前3位+后4位，中间\*\*\*\*

`138****8000`

身份证号

保留前6位+后4位，中间\*\*\*\*

`110101****1234`

银行卡号

保留前6位+后4位，中间\*\*\*\*

`622202****1234`

邮箱

隐藏@前中间字符，保留首尾

`z****g@xxx.com`

#### 3.3 字段注释要求（无模糊描述）

### 4\. SQL编写规范（防踩坑，高兼容+高并发）

#### 4.1 强制要求

1. 禁用 `SELECT *`，明确指定字段（如 `SELECT id, user_id, order_amount FROM trade_order`）；
2. 批量操作分批次（避免锁表/耗尽连接池）： 表字段数 单次操作条数 批次间隔 ≤20个 800-1000条 10-50ms 20-50个 500-800条 10-50ms ＞50个 300-500条 10-50ms 3.  JOIN需写全 `INNER JOIN`/`LEFT JOIN`，禁止简写；
3. 高并发更新必带乐观锁+重试： ``UPDATE trade_order SET status=1, version=version+1 WHERE id=123 AND version=2; -- 版本匹配才更新`` 重试策略：更新失败后最多重试3次，指数退避（第1次100ms、第2次200ms、第3次400ms）；
4. 多租户业务表的查询/更新，必带 `tenant_id`条件（如 `WHERE tenant_id=100 AND id=123`）；
5. 模糊搜索优先用全文索引（MySQL FULLTEXT）或ES检索，禁止 `LIKE '%xxx%'`（全表扫描）；
6. 开发阶段必须用 `EXPLAIN`校验SQL，禁止高频场景出现 `type=ALL`（全表扫描）、`Using filesort`/`Using temporary`。

#### 4.2 禁止事项

⚠️ 以下行为直接判定为不合规，禁止提交代码：

---

## 三、场景选做版（按级别精准扩展）

### （一）中小型项目：可选执行（满足任一触发条件）

**触发条件**：单表12个月预估300万-500万条；查询QPS≥3次/秒；有简单合规需求。

操作类别

具体操作

执行目的

字段优化

新增 `data_retention_days BIGINT NOT NULL DEFAULT 365 COMMENT '数据留存天数，符合《个人信息保护法》'`

满足基础合规要求

状态设计

状态字段预留≥30%空闲值（如当前用0-3，预留4-5）

后期加状态无需改表结构

索引优化

1\. 高频查询场景建覆盖索引（如查“用户ID+订单状态+金额”，建 `idx_order_user_id_status_amount`）； 2\. 联合索引总长度≤512字节，长字符串字段索引前32字节

避免回表，提升查询速度；避免索引创建失败

SQL校验

用 `EXPLAIN`验证索引有效性，禁止索引失效场景

提前规避慢查询

### （二）中大型项目：必须执行（不做有性能/扩展风险）

**触发条件**：单表12个月预估500万-2000万条；更新QPS≥5次/秒；多租户/对外接口场景。

#### 1\. 分表操作（单表超1000万条必做）

#### 2\. 分区操作（时间类表必做）

#### 3\. 多租户隔离（SaaS系统必做）

#### 4\. 高并发防护

#### 5\. 运维保障

### （三）大型项目：必须执行（不做有崩溃/合规风险）

**触发条件**：单表12个月预估＞2000万条；更新QPS＞50次/秒；秒杀/大促、跨境、金融合规场景。

#### 1\. 分表细化与数据分层

- 分表优化： 1.  分表规则：用户表用“哈希分表”（`user_id%100`），订单表用“范围分表”（按 `create_time`分年月）； 2.  跨表优化：用ShardingSphere“绑定表”（如 `order`和 `order_item`）减少关联开销；
- 数据分层（业务复杂必做）： 分层前缀 用途 代表表名 核心字段追加 `ods_` 贴源层（存原始数据） `ods_trade_order` `data_source`（数据源）、`etl_time`（ETL时间） `dwd_` 明细层（清洗后明细） `dwd_trade_order_detail` `data_quality_flag`（数据质量标记） `dws_` 汇总层（主题聚合） `dws_trade_order_daily` `agg_time`（聚合时间）、`agg_cycle`（聚合周期） #### 2\. 安全合规强化
- 敏感字段分级管控： 敏感等级 覆盖字段 管控要求 L3（敏感） 身份证、银行卡 存储脱敏，查询仅返回前6后4（如身份证 `110101****1234`） L4（极敏感） 支付密码、生物信息 加密存储（如AES-256），禁止明文查询 - 操作审计：所有 `DML/DDL`操作记录“操作人+时间+IP+SQL+影响行数”，审计日志留存≥180天；
- 数据删除合规：用户注销后，90天内完成核心数据物理删除/匿名化；
- 跨境合规：适配GDPR/CCPA等国际法规，新增 `data_region`（数据存储区域）、`consent_flag`（用户授权标记）字段。

#### 3\. 容灾备份（核心业务必做）

#### 4\. 大促/秒杀专项优化

---

## 四、核心疑问解答（消除落地争议）

### 1\. 四段表名到底能不能用？

### 2\. 中小型项目不做分表/分区，性能够吗？

### 3\. 索引长度限制（≤512字节）有必要吗？

### 4\. 乐观锁必须加重试吗？

---

## 五、落地工具包（直接复用，无需二次转化）

### 1\. 四段表名评审表模板

表名

业务域

每段维度含义

关联逻辑说明

架构师评审

DBA评审

评审日期

`user_role_menu_perm`

权限系统

1\. 用户 2. 角色 3. 菜单 4. 权限

用户关联角色，角色关联菜单，菜单关联权限，需四维度关联记录

✅

✅

2025-11-26

`trade_order_item_refund`

交易系统

1\. 交易 2. 订单 3. 子项 4. 退款

记录订单子项的退款信息，需关联交易-订单-子项三维度

✅

✅

2025-11-26

### 2\. 核心表建表语句模板（中大型项目）

```
CREATE TABLE `dwd_trade_order` ( `id` BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT '自增主键，唯一标识订单', `tenant_id` BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID，多租户数据隔离核心', `user_id` BIGINT NOT NULL DEFAULT 0 COMMENT '用户ID，关联dwd_user.id，订单归属标识', `order_amount` DECIMAL(16,4) NOT NULL DEFAULT 0.0000 COMMENT '订单金额，适配跨境结算，币种见currency字段', `currency` CHAR(3) NOT NULL DEFAULT 'CNY' COMMENT '币种，CNY/USD/EUR，与order_amount成对使用', `order_status` TINYINT UNSIGNED NOT NULL DEFAULT 0 COMMENT '订单状态：0-待支付 1-已支付 2-已取消 4-已完成 8-已退款 9-11-预留', `version` BIGINT NOT NULL DEFAULT 0 COMMENT '乐观锁，防并发更新冲突，更新失败重试3次（100ms/200ms/400ms）', `shard_key` BIGINT NOT NULL DEFAULT 0 COMMENT '分表键：按user_id%10计算，适配10个分表', `partition_key` DATETIME(3) NOT NULL COMMENT '分区键：与create_time一致，按年月分区', `request_id` VARCHAR(64) NOT NULL DEFAULT '' COMMENT '对外请求唯一标识，UUID v4生成，防重复提交', `data_retention_days` BIGINT NOT NULL DEFAULT 1825 COMMENT '数据留存天数，符合《金融行业数据安全规范》', `create_time` DATETIME(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT '创建时间，UTC时区，毫秒级', `update_time` DATETIME(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT '更新时间，自动更新，UTC时区', `delete_time` DATETIME(3) NULL COMMENT '软删除时间，未删除为NULL', -- 索引设计 INDEX `idx_trade_order_tenant_id_user_id` (`tenant_id`, `user_id`) COMMENT '多租户+用户查询索引', INDEX `idx_trade_order_partition_key_status` (`partition_key`, `order_status`) COMMENT '分区+状态查询索引', UNIQUE INDEX `uniq_trade_order_request_id` (`request_id`) COMMENT '幂等性唯一索引'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci 
PARTITION BY RANGE (TO_DAYS(partition_key)) ( PARTITION p202511 VALUES LESS THAN (TO_DAYS('2025-12-01')), PARTITION p202512 VALUES LESS THAN (TO_DAYS('2026-01-01'))
) COMMENT '交易明细层-订单表，业务负责人：张三，SLA核心级（可用性≥99.99%）';
```

### 3\. 开发阶段落地校验清单（按级别拆分）

#### （1）基础必遵版校验项（所有项目必核）

校验维度

校验内容

是否合规（√/×）

备注

命名规范

表名/字段名/索引名符合规则，无缩写、复数、关键字未处理

√

\-

主键设计

`id`为 `BIGINT`，分布式场景用雪花算法变种，无复合主键

√

\-

字段选型

金额用 `DECIMAL`、状态用 `TINYINT`、时间用 `DATETIME(3)`

√

\-

非空与默认值

核心字段 `NOT NULL`，默认值配置符合规则

√

\-

索引设计

无冗余索引，联合索引符合最左前缀原则

√

\-

SQL编写

无 `SELECT *`，批量操作分批次，高并发更新带乐观锁

√

\-

脱敏合规

开发/测试环境隐私数据已脱敏

√

\-

#### （2）中大型项目附加校验项

校验维度

校验内容

是否合规（√/×）

备注

分表/分区

单表超1000万条已加 `shard_key`/`partition_key`，规则明确

√

\-

多租户

业务表加 `tenant_id`，索引首字段为 `tenant_id`

√

\-

幂等性

对外接口表加 `request_id`及唯一索引

√

\-

DDL变更

变更流程合规，大表用在线DDL工具

√

\-

冷热分离

超6个月数据已迁移至 `_history`表

√

\-

#### （3）大型项目附加校验项

校验维度

校验内容

是否合规（√/×）

备注

数据分层

已按 `ods_`/`dwd_`/`dws_`分层，字段追加完整

√

\-

敏感字段管控

敏感字段已脱敏/加密，审计日志留存≥180天

√

\-

容灾备份

主从架构正常，备份策略符合要求，容灾演练已执行

√

\-

大促优化

已制定索引临时调整、分库扩容方案

√

\-

## 六、AI 提示词

```
### 项目开发背景与核心诉求
我现在要开发一个基于Spring Boot 2.7.6、MyBatis Plus、MySQL 8.0的【XXX项目】（比如：企业内部OA系统/社区电商小程序/多租户客户管理系统），该项目预计【XXX人】使用（比如：50人内部用/5000人C端用/30个租户SaaS用），是否分布式部署：【是/否】。

请先根据「项目用途+使用人数+是否分布式」自动判断项目级别（中小型/中大型/大型），再严格遵循以下**完整规范**生成该项目的通用核心业务表结构（覆盖基础用户、核心业务、操作日志等通用链路）：

### 遵循的完整规范（固定不变，严格执行）
#### 1. 核心角色与目标
你是「大厂级数据库设计规范顾问」，需严格遵循「分级落地框架+细节精准约束」，覆盖中小→中大型→大型项目全场景，兼顾基础合规、性能优化、可操作性，适配开发/架构/DBA/测试全员对齐。
- 核心目标：指导生成符合规范的数据库设计方案（建表语句、索引设计、分表分区方案等）、评审现有设计合规性、提供落地执行建议。

#### 2. 规范核心依据（必须严格遵循）
##### 2.1 项目分级标准（AI自动判断依据）
- 中小型项目：使用人数＜100人（内部系统/小工具）、无多租户/高并发、单服务器部署 → 聚焦基础规范+简单性能优化，不做过度设计；
- 中大型项目：使用人数100-10000人（区域级应用/轻度多租户SaaS）、更新QPS 5-50次/秒、支持分布式部署 → 分表/分区+高并发防护+多租户隔离+运维保障；
- 大型项目：使用人数＞10000人（全国级应用/高并发电商/金融系统）、多租户/秒杀/跨境合规、分布式部署 → 数据分层+容灾备份+跨境合规+大促专项优化。

##### 2.2 基础必遵规范（所有项目无例外执行）
###### 2.2.1 命名规范
- 表名：小写字母+下划线，三段为主（非关联表≤3段）、关联表最多4段（需架构师+DBA双评审），禁止5段及以上； - 关键字用反引号包裹，特殊后缀仅允许「_history」「_bak_日期」「_tmp」（≤7天）； - 禁止复数/拼音/驼峰命名；
- 字段名：小写字母+下划线，结构「关联主体_字段含义_属性」，禁止缩写（用user_id而非uid）； - 强制包含id（BIGINT主键）、create_time（DATETIME(3)）、update_time（DATETIME(3)自动更新）、delete_time（DATETIME(3)软删除）； - 核心字段NOT NULL，默认值统一（数字0、字符串''、时间CURRENT_TIMESTAMP(3)）；
- 索引名：类型前缀（pk_主键/uniq_唯一/idx_普通）+表名+字段名+排序（desc必标）； - 联合索引≤512字节； - 长字符串仅索引前32字节； - 多租户表联合索引首字段为tenant_id； - 禁止冗余索引。

###### 2.2.2 表结构设计
- 存储引擎：MySQL用InnoDB，PostgreSQL用默认； - 字符集统一utf8mb4； - 排序规则：MySQL5.7用utf8mb4_unicode_ci、8.0+用utf8mb4_0900_ai_ci；
- 主键： - 单机场景自增（MySQL AUTO_INCREMENT）； - 分布式场景雪花算法变种（时钟回拨阈值≤5ms）； - 禁止INT/UUID/VARCHAR/复合主键；
- 外键：禁用物理外键，用逻辑外键关联；
- 多环境一致性：多环境表结构/索引/字符集完全一致，适配数据库版本差异。

###### 2.2.3 字段设计
- 数据类型： - 金额用DECIMAL（核心16,4/非核心8,4）； - 手机号CHAR(20)、身份证CHAR(32)； - 状态TINYINT UNSIGNED（预留30%空闲值）； - 时间用DATETIME(3)（核心表）/TIMESTAMP(3)（日志表）； - 禁止FLOAT/DOUBLE/TEXT（核心表）/BLOB；
- 隐私数据：开发/测试环境强制脱敏（手机号前3后4、身份证前6后4等）；
- 字段注释：需含「业务含义+使用场景+特殊约束」，禁止模糊描述。

###### 2.2.4 SQL编写规范
- 强制要求： - 禁用SELECT *； - 批量操作分批次（≤20字段800-1000条/批，20-50字段500-800条/批，＞50字段300-500条/批）； - JOIN写全INNER/LEFT JOIN； - 高并发更新带乐观锁+3次指数退避重试； - 多租户SQL必带tenant_id； - 模糊搜索用全文索引/ES禁止LIKE '%xxx%'； - 开发阶段用EXPLAIN校验；
- 禁止操作： - 无WHERE/LIMIT的DELETE/UPDATE； - 函数操作索引字段/隐式类型转换； - 高频SQL用数据库特有函数； - 核心表用TIMESTAMP； - 开发/测试存真实隐私数据。

##### 2.3 场景选做规范（按AI判断的项目级别精准扩展）
###### 2.3.1 中小型项目（可选）
- 字段优化：加data_retention_days（默认365天）；
- 状态设计：预留30%空闲值；
- 索引优化：建覆盖索引，联合索引≤512字节。

###### 2.3.2 中大型项目（必做）
- 分表：单表超1000万条加shard_key（规则明确），用ShardingSphere-JDBC；
- 分区：时间类表加partition_key，RANGE分区（按年月）；
- 多租户：加tenant_id，联合索引首字段为tenant_id；
- 高并发防护：加version乐观锁、request_id（唯一索引）幂等性。

###### 2.3.3 大型项目（必做）
- 分表细化：用户表哈希分表、订单表范围分表，用ShardingSphere绑定表；
- 数据分层：按ods_/dwd_/dws_分层；
- 安全合规：敏感字段分级管控（L3脱敏、L4加密）、操作审计日志留存≥180天；
- 容灾备份：主从架构（延迟≤500ms）、每日全量+每小时增量备份。

##### 2.4 落地工具包（必须复用）
1. 四段表名评审表模板（关联表用）；
2. 核心表建表语句模板；
3. 落地校验清单（按级别适配）。

#### 3. 使用场景与输出要求
##### 3.1 场景1：生成数据库设计方案
输出需标注AI判断的项目级别+判断依据，严格对齐对应级别规范；

##### 3.2 输出格式
- 结构化（分点/代码块）；
- 核心约束用加粗标注；
- 建表语句可直接执行。

#### 4. 核心约束
- 必须按AI判断的项目级别匹配规范，禁止过度设计或遗漏关键约束；
- 优先适配MySQL 8.0、Spring Boot 2.7.6、MyBatis Plus；
- 所有输出需可落地，避免冗余。

### 最终输出要求（通用化、不冗余）
1. 先输出「项目级别+判断依据」（基于我提供的3个边界信息）；
2. 生成该级别下的通用核心表建表语句（至少包含：用户表、核心业务表、操作日志表），适配MySQL 8.0；
3. 标注Spring Boot 2.7.6 + MyBatis Plus适配配置（乐观锁、逻辑删除、字段自动填充、主键策略）；
4. 附带每张表的极简索引说明（用途+是否符合规范）；
5. 输出对应级别的极简落地校验清单（≤8项核心校验项）；
6. 若为中大型/大型项目，给出1页内的核心分表/合规建议（无需过度细化技术细节）。
```
