# AI 小组建设任务清单

## 任务总览

| # | 任务领域                       | 核心目标                                                                      | 优先级 |
| - | ------------------------------ | ----------------------------------------------------------------------------- | ------ |
| 1 | **知识库治理与推广**     | L0/L1/L2 知识库目录规范、AI Rules 仓库评审发布、标准使用方式推广              | P0     |
| 2 | **L2 仓库级自动化**      | CodeWiki 自动生成、GitHub Action 扫描维护、项目级文档内容定义                 | P0     |
| 3 | **SpecKit 流程适配**     | 基于知识库目录适配 SpecKit 流程开发、测试效果验证，尤其是架构和测试方面的效果 | P0     |
| 4 | **L1 项目级 AI 聚合**    | L2→L1 自动聚合、仓库摘要/服务拓扑/跨仓库模式自动生成                         | P0     |
| 5 | **集成测试体系**         | 集成测试框架选型、规范制定、CI 集成方案                                       | P1     |
| 6 | **基础架构公共平台**     | 链路追踪、CI/CD、日志监控等公共平台统一评估与维护，以及其他的评估。           | P1     |
| 7 | **知识库 Notebook 工具** | 类 NotebookLM 的 AI 问答工具，支持新员工通过对话快速理解项目。                | P1     |
| 8 | **AI 效果评价体系**      | AI Coding 效果度量标准、评估方法、持续改进机制                                | P2     |

---

## 一、知识库治理与推广

### 1.1 知识库目录规范化

| 任务项                       | 优先级 | 负责角色   | 产出物                               |
| ---------------------------- | ------ | ---------- | ------------------------------------ |
| 完善 L0 企业级知识库内容评审 | P0     | 架构委员会 | 评审通过的 enterprise-standards/     |
| 制定知识库变更 Review 流程   | P0     | 架构组     | review-process.md 补充知识库变更章节 |
| 制定知识库发布流程           | P0     | 架构组     | 知识库版本发布 SOP                   |
| 建立知识库版本管理机制       | P1     | 架构组     | 语义化版本号 + CHANGELOG             |

### 1.2 AI Rules 仓库建设

| 任务项                   | 优先级 | 负责角色   | 产出物                         |
| ------------------------ | ------ | ---------- | ------------------------------ |
| 创建独立的 AI Rules 仓库 | P0     | 基础架构   | `org/ai-knowledge-base` 仓库 |
| 制定 AI Rules 贡献指南   | P1     | 架构组     | CONTRIBUTING.md                |
| 建立 AI Rules 评审机制   | P1     | 架构委员会 | PR Review 模板 + 检查清单      |
| 配置 AI Rules 仓库 CI    | P1     | DevOps     | Markdown Lint + 格式校验       |

### 1.3 标准使用方式与推广

| 任务项                    | 优先级 | 负责角色 | 产出物                 |
| ------------------------- | ------ | -------- | ---------------------- |
| 编写知识库接入指南        | P0     | 架构组   | 《项目接入知识库指南》 |
| 制作 Git Subtree 操作手册 | P0     | 架构组   | 图文教程 + 脚本工具    |
| 开发知识库初始化 CLI 工具 | P1     | 基础架构 | `kb-init` 命令行工具 |
| 组织知识库培训            | P1     | 架构组   | 培训材料 + 录播视频    |
| 建立知识库使用度量        | P2     | 架构组   | 接入率、活跃度看板     |

---

## 二、L2 仓库级知识库自动化

### 2.1 CodeWiki 自动生成

| 任务项                      | 优先级 | 负责角色 | 产出物                             |
| --------------------------- | ------ | -------- | ---------------------------------- |
| 评估 CodeWiki 工具能力      | P0     | 基础架构 | 评估报告                           |
| 制定 code-derived 生成标准  | P0     | 架构组   | 生成内容规范文档                   |
| 开发 CodeWiki GitHub Action | P1     | DevOps   | `.github/workflows/codewiki.yml` |
| 配置定时自动生成（周/月）   | P1     | DevOps   | Cron 触发的 Action                 |
| 建立生成内容人工审核机制    | P2     | 架构组   | Review 流程                        |

### 2.2 GitHub Action 自动化扫描

| 任务项                            | 优先级 | 负责角色 | 产出物                               |
| --------------------------------- | ------ | -------- | ------------------------------------ |
| 开发 context.md 完整性检查 Action | P0     | DevOps   | `check-context-md.yml`             |
| 开发知识库结构校验 Action         | P1     | DevOps   | `validate-knowledge-structure.yml` |
| 开发 CLAUDE.md 存在性检查         | P1     | DevOps   | PR 检查 + 提醒                       |
| 开发知识库过期检测                | P2     | DevOps   | 超过 N 天未更新告警                  |

### 2.3 仓库级内容定义

| 任务项                             | 优先级 | 负责角色 | 产出物                     |
| ---------------------------------- | ------ | -------- | -------------------------- |
| 制定 context.md 必填字段规范       | P0     | 架构组   | context.md 模板 + 校验规则 |
| 制定 decisions.md 记录规范         | P1     | 架构组   | ADR 模板                   |
| 制定 features/ 目录结构规范        | P1     | 架构组   | Feature 归档规范           |
| 定义 .knowledge-config.yaml 配置项 | P1     | 架构组   | 配置项说明文档             |

---

## 三、L1 项目级知识库自动化

### 3.1 AI 聚合功能开发

| 任务项                      | 优先级 | 负责角色 | 产出物                                |
| --------------------------- | ------ | -------- | ------------------------------------- |
| 设计 AI 聚合架构方案        | P0     | 架构组   | 技术方案文档                          |
| 开发仓库摘要自动聚合 Action | P1     | 基础架构 | `aggregate-repo-summaries.yml`      |
| 开发服务拓扑自动生成        | P1     | 基础架构 | `service-topology.md` 生成器        |
| 开发跨仓库模式识别          | P2     | 基础架构 | `cross-repo-patterns.md` 生成器     |
| 开发改进建议生成            | P2     | 基础架构 | `improvement-suggestions.md` 生成器 |

### 3.2 项目级文档内容定义

| 任务项                        | 优先级 | 负责角色 | 产出物                  |
| ----------------------------- | ------ | -------- | ----------------------- |
| 制定 domain-model.md 规范     | P0     | 架构组   | 领域模型文档模板        |
| 制定 glossary.md 术语词典规范 | P0     | 架构组   | 术语词典模板 + 校验规则 |
| 制定 service-catalog.md 规范  | P1     | 架构组   | 服务目录模板            |
| 制定 repo-map.md 规范         | P1     | 架构组   | 仓库地图模板            |
| 制定 tech-stack.md 规范       | P1     | 架构组   | 技术栈声明模板          |

### 3.3 自动化更新机制

| 任务项                   | 优先级 | 负责角色 | 产出物                     |
| ------------------------ | ------ | -------- | -------------------------- |
| 设计 L2→L1 聚合触发机制 | P0     | 架构组   | 触发策略文档               |
| 开发 L2 变更监听 Action  | P1     | DevOps   | Webhook / 定时扫描         |
| 开发 L1 自动更新 PR 生成 | P1     | DevOps   | 自动创建 PR + 人工审核     |
| 建立聚合内容版本追溯     | P2     | DevOps   | `last-updated.json` 管理 |

---

## 四、SpecKit 流程适配

### 4.1 流程开发

| 任务项                              | 优先级 | 负责角色 | 产出物                      |
| ----------------------------------- | ------ | -------- | --------------------------- |
| 评估 SpecKit 与知识库集成方案       | P0     | 架构组   | 集成方案文档                |
| 开发知识库感知的 /speckit.specify   | P1     | 基础架构 | 规格生成时引用知识库约束    |
| 开发知识库感知的 /speckit.plan      | P1     | 基础架构 | 规划时校验架构合规性        |
| 开发知识库感知的 /speckit.implement | P1     | 基础架构 | 实现时强制遵循编码规范      |
| 集成架构合规性检查                  | P1     | 基础架构 | ARCH-001/002/003 错误码检查 |

### 4.2 测试与验证

| 任务项                          | 优先级 | 负责角色 | 产出物              |
| ------------------------------- | ------ | -------- | ------------------- |
| 设计 SpecKit 知识库集成测试用例 | P0     | QA       | 测试用例文档        |
| 搭建 SpecKit 测试环境           | P1     | DevOps   | 测试环境 + 示例项目 |
| 执行端到端测试                  | P1     | QA       | 测试报告            |
| 收集试点项目反馈                | P1     | 架构组   | 反馈汇总 + 改进项   |
| 输出 SpecKit 最佳实践           | P2     | 架构组   | 最佳实践文档        |

---

## 五、测试体系完善

### 5.1 单元测试规范（已有基线）

| 任务项                         | 优先级 | 负责角色 | 产出物                    |
| ------------------------------ | ------ | -------- | ------------------------- |
| 评审现有单测覆盖率要求         | P1     | 架构组   | testing-standards.md 更新 |
| 制定单测质量标准（非空断言等） | P1     | 架构组   | 单测质量检查规则          |

### 5.2 集成测试规范（待建设）

| 任务项                   | 优先级 | 负责角色 | 产出物                 |
| ------------------------ | ------ | -------- | ---------------------- |
| 调研集成测试框架选型     | P0     | 架构组   | 选型评估报告           |
| 制定集成测试规范         | P0     | 架构组   | integration-testing.md |
| 定义集成测试覆盖场景     | P1     | 架构组   | 核心场景清单           |
| 制定 Mock/Stub 使用规范  | P1     | 架构组   | Mock 规范文档          |
| 设计测试数据管理方案     | P1     | 架构组   | 测试数据管理规范       |
| 制定集成测试 CI 集成方案 | P1     | DevOps   | CI Pipeline 配置       |
| 建立集成测试覆盖率度量   | P2     | QA       | 覆盖率看板             |

### 5.3 E2E 测试规范（可选）

| 任务项              | 优先级 | 负责角色 | 产出物         |
| ------------------- | ------ | -------- | -------------- |
| 评估 E2E 测试必要性 | P2     | 架构组   | 评估报告       |
| 制定 E2E 测试规范   | P2     | 架构组   | e2e-testing.md |

---

## 六、基础架构公共平台建设

### 6.1 链路追踪平台

| 任务项                       | 优先级 | 负责角色   | 产出物                               |
| ---------------------------- | ------ | ---------- | ------------------------------------ |
| 评估现有链路追踪方案         | P0     | 基础架构   | 现状评估报告                         |
| 选型统一链路追踪平台         | P0     | 架构委员会 | 选型决策（Jaeger/SkyWalking/Zipkin） |
| 制定 TraceId/SpanId 传递规范 | P0     | 架构组     | 已有（architecture-principles.md）   |
| 开发链路追踪 SDK/Starter     | P1     | 基础架构   | Spring Boot Starter                  |
| 制定接入指南                 | P1     | 基础架构   | 接入文档                             |
| 建立链路追踪运维规范         | P2     | SRE        | 运维手册                             |

### 6.2 CI/CD 平台

| 任务项                   | 优先级 | 负责角色   | 产出物                               |
| ------------------------ | ------ | ---------- | ------------------------------------ |
| 评估现有 CI/CD 方案      | P0     | DevOps     | 现状评估报告                         |
| 统一 CI/CD 平台选型      | P0     | 架构委员会 | 选型决策（GitHub Actions/GitLab CI） |
| 制定 Pipeline 模板规范   | P1     | DevOps     | 标准 Pipeline 模板                   |
| 开发可复用 Action/Job 库 | P1     | DevOps     | 共享 Action 仓库                     |
| 制定分支策略规范         | P1     | 架构组     | Git 分支管理规范                     |
| 制定发布流程规范         | P1     | 架构组     | 已有（release-process.md）           |
| 建立 CI/CD 度量看板      | P2     | DevOps     | 构建时长、成功率看板                 |

### 6.3 其他公共平台评估

| 任务项                   | 优先级 | 负责角色   | 产出物                  |
| ------------------------ | ------ | ---------- | ----------------------- |
| 盘点现有公共平台清单     | P0     | 基础架构   | 平台资产清单            |
| 评估日志平台统一方案     | P1     | 基础架构   | ELK/Loki 选型评估       |
| 评估监控告警平台统一方案 | P1     | 基础架构   | Prometheus/Grafana 评估 |
| 评估配置中心统一方案     | P1     | 基础架构   | Nacos 配置中心规范      |
| 评估 API 网关统一方案    | P2     | 基础架构   | 网关选型评估            |
| 制定公共平台接入优先级   | P1     | 架构委员会 | 接入路线图              |

---

## 七、里程碑规划

### Phase 1：基础建设（第 1-2 周）

- [ ] L0 企业级知识库内容评审完成
- [ ] 知识库 Review/发布流程制定
- [ ] Git Subtree 操作手册编写
- [ ] context.md 模板规范制定

### Phase 2：自动化能力（第 3-4 周）

- [ ] CodeWiki GitHub Action 开发
- [ ] 知识库结构校验 Action 开发
- [ ] SpecKit 知识库集成方案设计
- [ ] 集成测试规范制定

### Phase 3：聚合与推广（第 5-6 周）

- [ ] L2→L1 AI 聚合功能开发
- [ ] SpecKit 知识库集成开发
- [ ] 链路追踪平台选型完成
- [ ] CI/CD 平台统一

### Phase 4：优化迭代（第 7-8 周）

- [ ] 试点项目接入与反馈收集
- [ ] 知识库培训与推广
- [ ] 度量看板建设
- [ ] 最佳实践输出

---

## 七、知识库 Notebook 工具建设

> 目标：构建类似 Google NotebookLM 的 AI 问答工具，基于三层知识库内容，支持新员工通过对话方式快速理解项目架构、业务逻辑和技术规范。

### 7.1 需求与场景

| 场景            | 用户        | 典型问题                            |
| --------------- | ----------- | ----------------------------------- |
| 新员工入职      | 新员工      | "项目的核心业务流程是什么？"        |
| 技术 Onboarding | 新员工/转岗 | "订单服务依赖哪些下游服务？"        |
| 规范查询        | 开发人员    | "创建订单接口应该用什么命名规范？"  |
| 架构理解        | 开发人员    | "为什么禁止在事务内调用外部 HTTP？" |
| 故障排查        | 开发/运维   | "TraceId 的格式是什么？如何传递？"  |

### 7.2 技术选型评估

| 任务项                     | 优先级 | 负责角色   | 产出物                         |
| -------------------------- | ------ | ---------- | ------------------------------ |
| 调研 NotebookLM 类产品能力 | P0     | 架构组     | 竞品分析报告                   |
| 评估自建 vs 采购方案       | P0     | 架构委员会 | 选型决策                       |
| 评估 RAG 技术栈选型        | P1     | 基础架构   | LangChain/LlamaIndex/Dify 评估 |
| 评估向量数据库选型         | P1     | 基础架构   | Milvus/Pinecone/Weaviate 评估  |
| 评估 LLM 选型              | P1     | 架构委员会 | GPT-4/Claude/私有化部署评估    |

### 7.3 核心功能开发

| 任务项                            | 优先级 | 负责角色 | 产出物              |
| --------------------------------- | ------ | -------- | ------------------- |
| 设计知识库索引方案                | P0     | 基础架构 | 索引架构文档        |
| 开发 L0/L1/L2 文档向量化 Pipeline | P1     | 基础架构 | 文档 Embedding 服务 |
| 开发知识库增量更新机制            | P1     | 基础架构 | 增量索引 Action     |
| 开发 RAG 检索服务                 | P1     | 基础架构 | 检索 API            |
| 开发对话式问答接口                | P1     | 基础架构 | Chat API            |
| 开发 Web UI 界面                  | P2     | 前端     | Notebook Web 应用   |
| 集成 Slack/飞书/企微 Bot          | P2     | 基础架构 | IM Bot              |

### 7.4 知识库适配

| 任务项                   | 优先级 | 负责角色 | 产出物            |
| ------------------------ | ------ | -------- | ----------------- |
| 定义知识库元数据标注规范 | P1     | 架构组   | 元数据 Schema     |
| 开发 L0 企业规范索引     | P1     | 基础架构 | 规范问答能力      |
| 开发 L1 项目知识索引     | P1     | 基础架构 | 业务/架构问答能力 |
| 开发 L2 仓库上下文索引   | P1     | 基础架构 | 代码级问答能力    |
| 建立知识库来源引用机制   | P1     | 基础架构 | 回答附带文档链接  |

### 7.5 运营与推广

| 任务项                 | 优先级 | 负责角色  | 产出物               |
| ---------------------- | ------ | --------- | -------------------- |
| 制定 Notebook 使用指南 | P1     | 架构组    | 用户手册             |
| 建立问答质量反馈机制   | P1     | 架构组    | 👍👎 反馈 + 改进闭环 |
| 收集高频问题优化知识库 | P2     | 架构组    | 知识库补充清单       |
| 建立 Notebook 使用度量 | P2     | 基础架构  | 使用量、满意度看板   |
| 纳入新员工入职流程     | P2     | HR/架构组 | 入职 Checklist 更新  |

---

## 八、AI 效果评价体系

> 目标：建立 AI Coding 效果的量化评估标准，持续度量、反馈、改进 AI 辅助开发的实际价值。

### 8.1 评价维度设计

| 维度                 | 说明                       | 核心指标                            |
| -------------------- | -------------------------- | ----------------------------------- |
| **代码质量**   | AI 生成代码的质量水平      | 规范符合率、缺陷密度、Review 通过率 |
| **开发效率**   | AI 对开发效率的提升        | 任务完成时间、代码产出量、迭代速度  |
| **知识库效果** | 知识库对 AI 输出的影响     | 约束遵循率、规范引用率、架构合规率  |
| **用户满意度** | 开发者对 AI 辅助的主观评价 | NPS 评分、采纳率、重复使用率        |
| **业务价值**   | AI 对业务目标的贡献        | 需求交付周期、线上缺陷率、技术债务  |

### 8.2 指标体系设计

| 任务项                      | 优先级 | 负责角色 | 产出物                  |
| --------------------------- | ------ | -------- | ----------------------- |
| 设计 AI Coding 效果评价框架 | P0     | 架构组   | 评价框架文档            |
| 定义代码质量评价指标        | P0     | 架构组   | 质量指标定义 + 计算公式 |
| 定义开发效率评价指标        | P0     | 架构组   | 效率指标定义 + 基线数据 |
| 定义知识库效果评价指标      | P1     | 架构组   | 知识库指标定义          |
| 定义用户满意度评价指标      | P1     | 架构组   | 满意度调查问卷          |
| 建立指标基线（AI 使用前）   | P1     | 架构组   | 基线数据报告            |

### 8.3 数据采集与度量

| 任务项                  | 优先级 | 负责角色 | 产出物            |
| ----------------------- | ------ | -------- | ----------------- |
| 设计数据采集方案        | P0     | 基础架构 | 数据采集架构      |
| 开发 AI Commit 标记识别 | P1     | DevOps   | Commit 分析脚本   |
| 开发代码规范检查集成    | P1     | DevOps   | Lint/静态分析集成 |
| 开发 PR Review 数据采集 | P1     | DevOps   | Review 指标采集   |
| 建立知识库引用追踪      | P1     | 基础架构 | 引用日志分析      |
| 开发开发者满意度调查    | P2     | 架构组   | 定期调查问卷      |

### 8.4 评估报告与看板

| 任务项                   | 优先级 | 负责角色 | 产出物           |
| ------------------------ | ------ | -------- | ---------------- |
| 设计 AI 效果评估报告模板 | P1     | 架构组   | 报告模板         |
| 开发 AI 效果度量看板     | P1     | 基础架构 | Grafana/自建看板 |
| 建立周/月报告机制        | P1     | 架构组   | 定期报告流程     |
| 建立指标异常告警         | P2     | DevOps   | 指标下降告警     |
| 建立团队/项目对比分析    | P2     | 架构组   | 对比分析报告     |

### 8.5 持续改进机制

| 任务项               | 优先级 | 负责角色   | 产出物                     |
| -------------------- | ------ | ---------- | -------------------------- |
| 建立效果反馈闭环     | P1     | 架构组     | 反馈 → 分析 → 改进流程   |
| 建立知识库优化机制   | P1     | 架构组     | 基于数据的知识库迭代       |
| 建立 Prompt 优化机制 | P1     | 架构组     | Prompt 版本管理 + A/B 测试 |
| 建立最佳实践沉淀     | P2     | 架构组     | AI Coding 最佳实践库       |
| 建立效果评审会议     | P2     | 架构委员会 | 季度效果评审               |

### 8.6 核心指标参考

```yaml
# AI Coding 效果核心指标（参考）

代码质量指标:
  规范符合率: "AI 代码通过 Lint 检查的比例，目标 ≥95%"
  Review通过率: "AI 代码首次 Review 通过比例，目标 ≥80%"
  缺陷密度: "AI 代码缺陷数/千行代码，目标 ≤ 人工代码"
  架构合规率: "AI 代码通过架构检查比例，目标 ≥90%"

开发效率指标:
  任务完成时间: "使用 AI 后任务平均完成时间变化"
  代码产出量: "人均日代码产出量变化"
  迭代周期: "需求从开发到上线的周期变化"

知识库效果指标:
  约束遵循率: "AI 输出符合 L0 约束的比例"
  规范引用率: "AI 输出中引用知识库规范的比例"
  术语一致率: "AI 输出使用标准术语的比例"

用户满意度指标:
  NPS评分: "开发者净推荐值，目标 ≥30"
  采纳率: "AI 建议被采纳的比例，目标 ≥70%"
  重复使用率: "开发者持续使用 AI 的比例"
```

---

## 九、干系人与职责

| 角色                 | 职责                   | 关键决策                        |
| -------------------- | ---------------------- | ------------------------------- |
| **架构委员会** | 规范评审、技术选型决策 | L0 内容审批、平台选型           |
| **架构组**     | 规范制定、方案设计     | 规范文档、技术方案              |
| **基础架构**   | 工具开发、平台建设     | SDK、Action、CLI 工具、Notebook |
| **DevOps**     | CI/CD、自动化          | Pipeline、Action 配置           |
| **QA**         | 测试规范、质量保障     | 测试用例、覆盖率标准            |
| **SRE**        | 运维规范、稳定性       | 监控告警、运维手册              |
| **前端**       | UI 开发                | Notebook Web 界面               |
| **HR**         | 入职流程               | 新员工 Onboarding               |

---

## 九、风险与依赖

| 风险项          | 影响          | 缓解措施                       |
| --------------- | ------------- | ------------------------------ |
| 知识库推广阻力  | 接入率低      | 领导支持 + 培训 + 工具简化     |
| AI 生成内容质量 | 需人工 Review | 建立审核机制 + 持续优化 Prompt |
| 跨团队协作      | 进度延迟      | 明确职责 + 定期同步            |
| 技术选型分歧    | 方案摇摆      | 架构委员会快速决策             |

---

*文档版本：v1.0.0*
*创建时间：2024-01*
*维护人：架构组*
