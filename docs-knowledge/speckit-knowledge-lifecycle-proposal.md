# SpecKit çŸ¥è¯†ç”Ÿå‘½å‘¨æœŸå¢å¼ºæ–¹æ¡ˆ

## 1. é—®é¢˜é™ˆè¿°

### 1.1 å½“å‰çŠ¶æ€

SpecKit ç”Ÿæˆçš„æ–‡æ¡£ï¼ˆspec.md, plan.md, tasks.mdï¼‰å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å½“å‰æ–‡æ¡£ç”Ÿå‘½å‘¨æœŸ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  éœ€æ±‚A                                                          â”‚
â”‚    â†“                                                            â”‚
â”‚  /speckit.specify â†’ spec.md â”€â”                                  â”‚
â”‚    â†“                         â”‚                                  â”‚
â”‚  /speckit.plan â†’ plan.md â”€â”€â”€â”€â”¼â”€â”€â†’ features/feature-a/ (å½’æ¡£)    â”‚
â”‚    â†“                         â”‚                                  â”‚
â”‚  /speckit.tasks â†’ tasks.md â”€â”€â”˜                                  â”‚
â”‚    â†“                                                            â”‚
â”‚  /speckit.implement â†’ ä»£ç å®ç°                                   â”‚
â”‚    â†“                                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                     çŸ¥è¯†æ–­å±‚ (Knowledge Gap)                     â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚    â†“                                                            â”‚
â”‚  éœ€æ±‚B (æ–°éœ€æ±‚)                                                  â”‚
â”‚    â†“                                                            â”‚
â”‚  /speckit.specify â†’ æ— æ³•è®¿é—®éœ€æ±‚Açš„å†³ç­–å†å²                       â”‚
â”‚    â†“                                                            â”‚
â”‚  å¯èƒ½äº§ç”Ÿï¼šé‡å¤è®¾è®¡ | å†³ç­–å†²çª | æ¶æ„ä¸ä¸€è‡´                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ ¸å¿ƒé—®é¢˜

| é—®é¢˜ | å½±å“ | ä¸¥é‡ç¨‹åº¦ |
|------|------|---------|
| æ–‡æ¡£ä¸€æ¬¡æ€§ä½¿ç”¨ | å†å²å†³ç­–ä¸¢å¤±ï¼Œæ— æ³•å¤ç”¨ | ğŸ”´ é«˜ |
| æ— è·¨éœ€æ±‚å…³è” | ç›¸å…³éœ€æ±‚é—´ä¿¡æ¯å­¤å²› | ğŸ”´ é«˜ |
| çŸ¥è¯†æœªæ²‰æ·€ | æ¶æ„å†³ç­–æ•£è½å„å¤„ | ğŸŸ¡ ä¸­ |
| ç¼ºä¹ç‰ˆæœ¬æ¼”è¿› | è®¾è®¡æ¼”å˜å†å²ä¸å¯è¿½æº¯ | ğŸŸ¡ ä¸­ |

### 1.3 æœŸæœ›ç›®æ ‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æœŸæœ›çš„çŸ¥è¯†æµåŠ¨                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  éœ€æ±‚Aå®Œæˆå                                                     â”‚
â”‚    â†“                                                            â”‚
â”‚  çŸ¥è¯†æ²‰æ·€ â†’ â”¬â”€â†’ Feature Registry (ç‰¹æ€§æ³¨å†Œè¡¨)                    â”‚
â”‚            â”œâ”€â†’ L1/architecture/decisions/ (æ¶æ„å†³ç­–)            â”‚
â”‚            â”œâ”€â†’ L1/domain-model.md (é¢†åŸŸæ¨¡å‹æ›´æ–°)                 â”‚
â”‚            â””â”€â†’ codewiki/ (ä»£ç æ–‡æ¡£é‡ç”Ÿæˆ)                        â”‚
â”‚                                                                 â”‚
â”‚  éœ€æ±‚Bå¼€å§‹æ—¶                                                     â”‚
â”‚    â†“                                                            â”‚
â”‚  /speckit.specify â†’ è‡ªåŠ¨åŠ è½½ï¼š                                   â”‚
â”‚                     â€¢ ç›¸å…³å†å²éœ€æ±‚æ‘˜è¦                            â”‚
â”‚                     â€¢ æ¶æ„å†³ç­–çº¦æŸ                               â”‚
â”‚                     â€¢ é¢†åŸŸæ¨¡å‹ç°çŠ¶                               â”‚
â”‚                     â€¢ æ¨¡å—è¾¹ç•Œå®šä¹‰                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. è§£å†³æ–¹æ¡ˆè®¾è®¡

### 2.1 Feature Registryï¼ˆç‰¹æ€§æ³¨å†Œè¡¨ï¼‰

#### 2.1.1 æ•°æ®ç»“æ„

```json
// features/registry.json
{
  "version": "1.0",
  "last_updated": "2025-01-15T10:30:00Z",
  "features": [
    {
      "id": "user-authentication",
      "name": "ç”¨æˆ·è®¤è¯ç³»ç»Ÿ",
      "status": "implemented",
      "created_at": "2025-01-10",
      "completed_at": "2025-01-15",
      "artifacts": {
        "spec": "features/user-authentication/spec.md",
        "plan": "features/user-authentication/plan.md",
        "tasks": "features/user-authentication/tasks.md"
      },
      "summary": {
        "business_goal": "å®ç°å®‰å…¨çš„ç”¨æˆ·ç™»å½•å’Œä¼šè¯ç®¡ç†",
        "technical_approach": "JWT + OAuth2.0",
        "key_decisions": [
          "ä½¿ç”¨ JWT è€Œé Session å­˜å‚¨",
          "Token æœ‰æ•ˆæœŸ 24 å°æ—¶",
          "æ”¯æŒ OAuth2.0 ç¬¬ä¸‰æ–¹ç™»å½•"
        ]
      },
      "impact": {
        "modules_created": ["auth-service"],
        "modules_modified": ["user-gateway", "common-utils"],
        "apis_added": ["/api/v1/auth/login", "/api/v1/auth/refresh"],
        "domain_entities": ["User", "Session", "Token"]
      },
      "tags": ["authentication", "security", "user-management"],
      "related_features": ["user-registration", "role-based-access"],
      "adr_refs": ["ADR-001-jwt-token-strategy"]
    }
  ],
  "index": {
    "by_module": {
      "auth-service": ["user-authentication", "role-based-access"],
      "user-gateway": ["user-authentication", "user-registration"]
    },
    "by_tag": {
      "security": ["user-authentication", "role-based-access"],
      "authentication": ["user-authentication"]
    },
    "by_domain": {
      "User": ["user-authentication", "user-registration"],
      "Session": ["user-authentication"]
    }
  }
}
```

#### 2.1.2 Registry æ“ä½œæ¥å£

```yaml
registry_operations:
  register:
    trigger: "/speckit.implement å®Œæˆå"
    action: "è‡ªåŠ¨æå–ç‰¹æ€§ä¿¡æ¯å¹¶æ³¨å†Œ"

  query:
    by_module: "æŸ¥æ‰¾å½±å“ç‰¹å®šæ¨¡å—çš„å†å²éœ€æ±‚"
    by_tag: "æŸ¥æ‰¾ç›¸å…³æ ‡ç­¾çš„å†å²éœ€æ±‚"
    by_domain: "æŸ¥æ‰¾æ¶‰åŠç‰¹å®šé¢†åŸŸå®ä½“çš„éœ€æ±‚"
    by_keyword: "å…¨æ–‡æœç´¢å†å²éœ€æ±‚"

  update:
    trigger: "éœ€æ±‚å˜æ›´æˆ–åç»­è¿­ä»£"
    action: "æ›´æ–°å·²æœ‰ç‰¹æ€§è®°å½•"
```

### 2.2 çŸ¥è¯†æ²‰æ·€æœºåˆ¶

#### 2.2.1 Post-Implementation çŸ¥è¯†æå–

åœ¨ `/speckit.implement` å®Œæˆåï¼Œè‡ªåŠ¨æ‰§è¡ŒçŸ¥è¯†æ²‰æ·€ï¼š

```yaml
# æ–°å¢å‘½ä»¤ï¼š/speckit.archive
name: "speckit.archive"
description: "ç‰¹æ€§å®Œæˆåçš„çŸ¥è¯†æ²‰æ·€ä¸å½’æ¡£"
trigger: "/speckit.implement æ‰€æœ‰ä»»åŠ¡å®Œæˆå"

phases:
  phase_1_extract:
    name: "çŸ¥è¯†æå–"
    actions:
      - action: "è§£æ spec.md"
        extract:
          - business_goal
          - acceptance_criteria
          - key_decisions
      - action: "è§£æ plan.md"
        extract:
          - technical_approach
          - architecture_decisions
          - component_design
      - action: "è§£æä»£ç å˜æ›´"
        extract:
          - modules_affected
          - apis_added
          - domain_entities

  phase_2_precipitate:
    name: "çŸ¥è¯†æ²‰æ·€"
    actions:
      - action: "æ›´æ–° Feature Registry"
        target: "features/registry.json"
      - action: "æå–æ¶æ„å†³ç­–"
        condition: "å­˜åœ¨é‡è¦æ¶æ„å†³ç­–"
        target: "docs-knowledge/L1-project/architecture/decisions/"
        format: "ADR (Architecture Decision Record)"
      - action: "æ›´æ–°é¢†åŸŸæ¨¡å‹"
        condition: "æ–°å¢æˆ–ä¿®æ”¹é¢†åŸŸå®ä½“"
        target: "docs-knowledge/L1-project/domain-model.md"
      - action: "è§¦å‘ codewiki æ›´æ–°"
        condition: "ä»£ç ç»“æ„å˜æ›´"
        target: "codewiki/"

  phase_3_link:
    name: "å…³è”å»ºç«‹"
    actions:
      - action: "å»ºç«‹ç‰¹æ€§å…³è”"
        logic: "åŸºäºæ¨¡å—ã€æ ‡ç­¾ã€é¢†åŸŸå®ä½“è¯†åˆ«ç›¸å…³ç‰¹æ€§"
      - action: "æ›´æ–°ç´¢å¼•"
        target: "features/registry.json#index"
```

#### 2.2.2 ADR è‡ªåŠ¨ç”Ÿæˆæ¨¡æ¿

```markdown
# ADR-{number}: {title}

## çŠ¶æ€
{Proposed | Accepted | Deprecated | Superseded}

## ä¸Šä¸‹æ–‡
æ¥æºç‰¹æ€§: {feature_id}
å†³ç­–æ—¥æœŸ: {date}

{ä» plan.md æå–çš„èƒŒæ™¯æè¿°}

## å†³ç­–
{ä» plan.md æå–çš„æŠ€æœ¯æ–¹æ¡ˆ}

## ç†ç”±
{ä» spec.md å’Œ plan.md æå–çš„å†³ç­–ä¾æ®}

## å½±å“
- å—å½±å“æ¨¡å—: {modules}
- ä¾èµ–å…³ç³»: {dependencies}
- åç»­çº¦æŸ: {constraints}

## ç›¸å…³
- ç‰¹æ€§: {feature_link}
- ç›¸å…³ ADR: {related_adrs}
```

### 2.3 å†å²æ„ŸçŸ¥çš„éœ€æ±‚åˆ†æ

#### 2.3.1 å¢å¼º /speckit.specify

```yaml
# ä¿®æ”¹ /speckit.specify
phases:
  phase_0_context:  # æ–°å¢é˜¶æ®µ
    name: "å†å²ä¸Šä¸‹æ–‡åŠ è½½"
    actions:
      - action: "åŠ è½½ Feature Registry"
        source: "features/registry.json"
      - action: "åˆ†æéœ€æ±‚å…³é”®è¯"
        extract: ["æ¨¡å—å", "é¢†åŸŸå®ä½“", "ä¸šåŠ¡æ ‡ç­¾"]
      - action: "æŸ¥è¯¢ç›¸å…³å†å²ç‰¹æ€§"
        query:
          by_module: "{æ¶‰åŠçš„æ¨¡å—}"
          by_domain: "{æ¶‰åŠçš„é¢†åŸŸå®ä½“}"
          by_tag: "{ç›¸å…³æ ‡ç­¾}"
      - action: "ç”Ÿæˆå†å²ä¸Šä¸‹æ–‡æ‘˜è¦"
        output: |
          ## ğŸ“š ç›¸å…³å†å²éœ€æ±‚

          ### ç›´æ¥ç›¸å…³
          | ç‰¹æ€§ | çŠ¶æ€ | å…³é”®å†³ç­– | å½±å“æ¨¡å— |
          |------|------|---------|---------|
          | {feature_name} | {status} | {decisions} | {modules} |

          ### æ½œåœ¨å†²çªç‚¹
          - {conflict_description}

          ### å¯å¤ç”¨è®¾è®¡
          - {reusable_pattern}

  phase_1_analyze:  # åŸæœ‰é˜¶æ®µ
    name: "éœ€æ±‚ç†è§£ä¸åˆ†æ"
    # ... ä¿æŒåŸæœ‰é€»è¾‘ï¼Œä½†å¢åŠ å†å²ä¸Šä¸‹æ–‡å‚è€ƒ
    context_awareness:
      - "å‚è€ƒå†å²éœ€æ±‚çš„æœ¯è¯­å®šä¹‰"
      - "éµå¾ªå·²æœ‰çš„é¢†åŸŸæ¨¡å‹"
      - "è€ƒè™‘å·²æœ‰æ¶æ„å†³ç­–çº¦æŸ"
```

#### 2.3.2 å¢å¼º /speckit.plan

```yaml
# ä¿®æ”¹ /speckit.plan
phases:
  phase_0_history:  # æ–°å¢é˜¶æ®µ
    name: "å†å²å†³ç­–åŠ è½½"
    actions:
      - action: "åŠ è½½ç›¸å…³ ADR"
        source: "docs-knowledge/L1-project/architecture/decisions/"
        filter: "ä¸å½“å‰éœ€æ±‚æ¶‰åŠæ¨¡å—ç›¸å…³"
      - action: "åŠ è½½å†å² plan æ‘˜è¦"
        source: "features/registry.json"
        filter: "related_features"
      - action: "ç”Ÿæˆå†³ç­–çº¦æŸæ¸…å•"
        output: |
          ## âš ï¸ å†å²å†³ç­–çº¦æŸ

          ä»¥ä¸‹å†å²å†³ç­–å¿…é¡»éµå¾ªæˆ–æ˜ç¡®è¯´æ˜å˜æ›´ç†ç”±ï¼š

          | ADR | å†³ç­–å†…å®¹ | çº¦æŸå½±å“ |
          |-----|---------|---------|
          | {adr_id} | {decision} | {constraint} |

          ### å†²çªæ£€æµ‹
          - {potential_conflict}

  phase_1_design:  # åŸæœ‰é˜¶æ®µ
    # ... ä¿æŒåŸæœ‰é€»è¾‘
    conflict_check:
      - "æ–°è®¾è®¡æ˜¯å¦ä¸å†å² ADR å†²çª"
      - "å¦‚æœ‰å†²çªï¼Œæ˜¯å¦éœ€è¦åºŸå¼ƒæ—§ ADR"
```

---

## 3. å®ç°è§„èŒƒ

### 3.1 æ–°å¢å‘½ä»¤ï¼š/speckit.archive

```markdown
# /speckit.archive

## ç”¨é€”
ç‰¹æ€§å®ç°å®Œæˆåçš„çŸ¥è¯†æ²‰æ·€ä¸å½’æ¡£

## è§¦å‘æ—¶æœº
- `/speckit.implement` æ‰€æœ‰ä»»åŠ¡å®Œæˆå
- æ‰‹åŠ¨æ‰§è¡Œä»¥å½’æ¡£å†å²ç‰¹æ€§

## è¾“å…¥
- features/{feature}/spec.md
- features/{feature}/plan.md
- features/{feature}/tasks.md
- Git diff (ä»£ç å˜æ›´åˆ†æ)

## è¾“å‡º
1. æ›´æ–° features/registry.json
2. ç”Ÿæˆ ADR (å¦‚æœ‰é‡è¦å†³ç­–)
3. æ›´æ–° domain-model.md (å¦‚æœ‰å®ä½“å˜æ›´)
4. è§¦å‘ codewiki é‡æ–°ç”Ÿæˆ

## æµç¨‹
1. è§£æç‰¹æ€§æ–‡æ¡£ï¼Œæå–å…³é”®ä¿¡æ¯
2. åˆ†æä»£ç å˜æ›´ï¼Œè¯†åˆ«å½±å“èŒƒå›´
3. æ›´æ–° Feature Registry
4. åˆ¤æ–­æ˜¯å¦éœ€è¦ç”Ÿæˆ ADR
5. æ›´æ–°é¢†åŸŸæ¨¡å‹
6. å»ºç«‹ç‰¹æ€§å…³è”
7. æ›´æ–°ç´¢å¼•
```

### 3.2 Registry æŸ¥è¯¢æ¥å£

```yaml
# ä¾›å…¶ä»–å‘½ä»¤è°ƒç”¨çš„æŸ¥è¯¢æ¥å£
registry_query:
  find_by_module:
    input: "module_name"
    output: "ç›¸å…³ç‰¹æ€§åˆ—è¡¨åŠæ‘˜è¦"

  find_by_domain:
    input: "entity_name"
    output: "æ¶‰åŠè¯¥å®ä½“çš„ç‰¹æ€§åˆ—è¡¨"

  find_related:
    input: "feature_id"
    output: "å…³è”ç‰¹æ€§åŠå…³è”åŸå› "

  find_conflicts:
    input: "new_feature_description"
    output: "æ½œåœ¨å†²çªçš„å†å²å†³ç­–"

  get_decisions_for_module:
    input: "module_name"
    output: "å½±å“è¯¥æ¨¡å—çš„æ‰€æœ‰ ADR"
```

### 3.3 å‘½ä»¤ä¿®æ”¹æ¸…å•

| å‘½ä»¤ | ä¿®æ”¹ç±»å‹ | ä¿®æ”¹å†…å®¹ |
|------|---------|---------|
| /speckit.specify | æ–°å¢é˜¶æ®µ | Phase 0: å†å²ä¸Šä¸‹æ–‡åŠ è½½ |
| /speckit.plan | æ–°å¢é˜¶æ®µ | Phase 0: å†å²å†³ç­–åŠ è½½ |
| /speckit.tasks | æ–°å¢è¾“å‡º | åœ¨ tasks.md ä¸­æ ‡æ³¨ç›¸å…³å†å²ç‰¹æ€§ |
| /speckit.implement | æ–°å¢è§¦å‘ | å®Œæˆåè‡ªåŠ¨è°ƒç”¨ /speckit.archive |
| /speckit.archive | æ–°å¢å‘½ä»¤ | çŸ¥è¯†æ²‰æ·€ä¸å½’æ¡£ |

---

## 4. å·¥ä½œæµé›†æˆ

### 4.1 å®Œæ•´çš„çŸ¥è¯†æµåŠ¨å·¥ä½œæµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    çŸ¥è¯†é©±åŠ¨çš„ SDD å·¥ä½œæµ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚
â”‚  â”‚ æ–°éœ€æ±‚è¾“å…¥   â”‚                                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
â”‚         â†“                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ /speckit.specify                                         â”‚       â”‚
â”‚  â”‚  â”œâ”€ Phase 0: æŸ¥è¯¢ Registry â†’ åŠ è½½ç›¸å…³å†å²               â”‚       â”‚
â”‚  â”‚  â”œâ”€ Phase 1: éœ€æ±‚åˆ†æ (å¸¦å†å²ä¸Šä¸‹æ–‡)                     â”‚       â”‚
â”‚  â”‚  â””â”€ Output: spec.md (åŒ…å«å†å²å…³è”è¯´æ˜)                   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â†“                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ /speckit.plan                                            â”‚       â”‚
â”‚  â”‚  â”œâ”€ Phase 0: åŠ è½½ç›¸å…³ ADR â†’ è¯†åˆ«çº¦æŸ                    â”‚       â”‚
â”‚  â”‚  â”œâ”€ Phase 1: æŠ€æœ¯è®¾è®¡ (éµå¾ªå†å²å†³ç­–)                     â”‚       â”‚
â”‚  â”‚  â””â”€ Output: plan.md (æ ‡æ³¨å†³ç­–å»¶ç»­/å˜æ›´)                  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â†“                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ /speckit.tasks â†’ /speckit.implement                      â”‚       â”‚
â”‚  â”‚  â””â”€ å®ç°ä»£ç                                              â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â†“                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ /speckit.archive (è‡ªåŠ¨è§¦å‘)                              â”‚       â”‚
â”‚  â”‚  â”œâ”€ æå–çŸ¥è¯† â†’ æ›´æ–° Registry                            â”‚       â”‚
â”‚  â”‚  â”œâ”€ ç”Ÿæˆ ADR (å¦‚éœ€è¦)                                   â”‚       â”‚
â”‚  â”‚  â”œâ”€ æ›´æ–°é¢†åŸŸæ¨¡å‹                                         â”‚       â”‚
â”‚  â”‚  â”œâ”€ å»ºç«‹ç‰¹æ€§å…³è”                                         â”‚       â”‚
â”‚  â”‚  â””â”€ è§¦å‘ codewiki æ›´æ–°                                   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â†“                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚
â”‚  â”‚ çŸ¥è¯†åº“æ›´æ–°   â”‚ â†â”€â”€ ä¸‹ä¸€ä¸ªéœ€æ±‚å¯ä»¥è®¿é—®                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 æŸ¥è¯¢åœºæ™¯ç¤ºä¾‹

#### åœºæ™¯1ï¼šæ–°éœ€æ±‚æ¶‰åŠå·²æœ‰æ¨¡å—

```
ç”¨æˆ·: "ä¸º auth-service æ·»åŠ åŒå› ç´ è®¤è¯"

/speckit.specify æ‰§è¡Œ:
1. å…³é”®è¯æå–: "auth-service", "è®¤è¯", "å®‰å…¨"
2. Registry æŸ¥è¯¢:
   - by_module("auth-service") â†’ ["user-authentication", "role-based-access"]
   - by_tag("security") â†’ ["user-authentication", ...]
3. è¾“å‡ºå†å²ä¸Šä¸‹æ–‡:

   ## ğŸ“š ç›¸å…³å†å²éœ€æ±‚

   ### user-authentication (å·²å®ç°)
   - **æŠ€æœ¯æ–¹æ¡ˆ**: JWT + OAuth2.0
   - **å…³é”®å†³ç­–**: Token æœ‰æ•ˆæœŸ 24h, æ”¯æŒç¬¬ä¸‰æ–¹ç™»å½•
   - **ç›¸å…³ ADR**: ADR-001-jwt-token-strategy

   ### âš ï¸ è®¾è®¡çº¦æŸ
   - å¿…é¡»å…¼å®¹ç°æœ‰ JWT Token ç»“æ„
   - è€ƒè™‘ä¸ OAuth2.0 æµç¨‹çš„é›†æˆç‚¹
```

#### åœºæ™¯2ï¼šæ£€æµ‹æ½œåœ¨å†²çª

```
ç”¨æˆ·: "å°†ç”¨æˆ·ä¼šè¯æ”¹ä¸º Redis Session å­˜å‚¨"

/speckit.plan æ‰§è¡Œ:
1. åŠ è½½ç›¸å…³ ADR: ADR-001-jwt-token-strategy
2. å†²çªæ£€æµ‹:

   ## âš ï¸ å†³ç­–å†²çªè­¦å‘Š

   | å†å²å†³ç­– | æ–°éœ€æ±‚ | å†²çªç±»å‹ |
   |---------|--------|---------|
   | ADR-001: ä½¿ç”¨ JWT æ— çŠ¶æ€è®¤è¯ | æ”¹ç”¨ Redis Session | æ¶æ„å†²çª |

   ### éœ€è¦æ˜ç¡®
   - æ˜¯å¦åºŸå¼ƒ ADR-001ï¼Ÿ
   - æ˜¯å¦å…±å­˜ä¸¤ç§æ–¹æ¡ˆï¼Ÿ
   - è¿ç§»ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ
```

---

## 5. å®æ–½è®¡åˆ’

### 5.1 é˜¶æ®µåˆ’åˆ†

| é˜¶æ®µ | å†…å®¹ | å·¥ä½œé‡ | ä¼˜å…ˆçº§ |
|------|------|--------|--------|
| Phase 1 | Feature Registry ç»“æ„è®¾è®¡ä¸å®ç° | 2 å¤© | P0 |
| Phase 2 | /speckit.archive å‘½ä»¤å¼€å‘ | 3 å¤© | P0 |
| Phase 3 | /speckit.specify å†å²æ„ŸçŸ¥å¢å¼º | 2 å¤© | P1 |
| Phase 4 | /speckit.plan å†³ç­–çº¦æŸé›†æˆ | 2 å¤© | P1 |
| Phase 5 | ADR è‡ªåŠ¨ç”Ÿæˆæœºåˆ¶ | 1 å¤© | P2 |
| Phase 6 | é¢†åŸŸæ¨¡å‹è‡ªåŠ¨æ›´æ–° | 1 å¤© | P2 |

**æ€»è®¡**: ~11 å¤©

### 5.2 ä¾èµ–å…³ç³»

```
Phase 1 (Registry) â”€â”¬â”€â†’ Phase 2 (archive)
                    â”‚
                    â”œâ”€â†’ Phase 3 (specify å¢å¼º)
                    â”‚
                    â””â”€â†’ Phase 4 (plan å¢å¼º)
                              â”‚
                              â”œâ”€â†’ Phase 5 (ADR ç”Ÿæˆ)
                              â”‚
                              â””â”€â†’ Phase 6 (é¢†åŸŸæ¨¡å‹)
```

### 5.3 éªŒæ”¶æ ‡å‡†

| é˜¶æ®µ | éªŒæ”¶æ ‡å‡† |
|------|---------|
| Phase 1 | Registry å¯æ­£å¸¸è¯»å†™ï¼Œç´¢å¼•æŸ¥è¯¢æœ‰æ•ˆ |
| Phase 2 | ç‰¹æ€§å®Œæˆåè‡ªåŠ¨å½’æ¡£ï¼ŒçŸ¥è¯†æ­£ç¡®æå– |
| Phase 3 | æ–°éœ€æ±‚åˆ†ææ—¶èƒ½çœ‹åˆ°ç›¸å…³å†å²ä¸Šä¸‹æ–‡ |
| Phase 4 | æŠ€æœ¯è®¾è®¡æ—¶èƒ½è¯†åˆ«å†å²å†³ç­–çº¦æŸ |
| Phase 5 | é‡è¦å†³ç­–è‡ªåŠ¨ç”Ÿæˆ ADR |
| Phase 6 | é¢†åŸŸå®ä½“å˜æ›´è‡ªåŠ¨åŒæ­¥åˆ°æ¨¡å‹æ–‡æ¡£ |

---

## 6. ä¸å…¶ä»–æ–¹æ¡ˆçš„å…³ç³»

### 6.1 æ–¹æ¡ˆæ•´åˆè§†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SpecKit å¢å¼ºæ–¹æ¡ˆå…¨æ™¯                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ–¹æ¡ˆ1: çŸ¥è¯†åº“    â”‚  â”‚ æ–¹æ¡ˆ2: æµ‹è¯•     â”‚  â”‚ æ–¹æ¡ˆ3: ç”Ÿå‘½å‘¨æœŸ â”‚ â”‚
â”‚  â”‚ é›†æˆå¢å¼º        â”‚  â”‚ å¢å¼º            â”‚  â”‚ å¢å¼º (æœ¬æ–¹æ¡ˆ)   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â€¢ L0/L1/L2 åŠ è½½ â”‚  â”‚ â€¢ æµ‹è¯•ä¼˜å…ˆ      â”‚  â”‚ â€¢ Feature       â”‚ â”‚
â”‚  â”‚ â€¢ æ¶æ„åˆè§„æ£€æŸ¥  â”‚  â”‚ â€¢ /speckit.test â”‚  â”‚   Registry      â”‚ â”‚
â”‚  â”‚ â€¢ codewiki é›†æˆ â”‚  â”‚ â€¢ æµ‹è¯•é©±åŠ¨å®ç°  â”‚  â”‚ â€¢ çŸ¥è¯†æ²‰æ·€      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ å†å²æ„ŸçŸ¥      â”‚ â”‚
â”‚           â”‚                    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                    â”‚                    â”‚          â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                â”‚                               â”‚
â”‚                                â†“                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                    â”‚   ç»Ÿä¸€çš„ SpecKit 2.0   â”‚                   â”‚
â”‚                    â”‚   çŸ¥è¯†é©±åŠ¨ + æµ‹è¯•ä¼˜å…ˆ   â”‚                   â”‚
â”‚                    â”‚   + æŒç»­å­¦ä¹            â”‚                   â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 æ–¹æ¡ˆäº¤äº’ç‚¹

| æ–¹æ¡ˆ1 (çŸ¥è¯†åº“) | æ–¹æ¡ˆ3 (ç”Ÿå‘½å‘¨æœŸ) | äº¤äº’è¯´æ˜ |
|---------------|-----------------|---------|
| L1 æ¶æ„å†³ç­–åŠ è½½ | ADR è‡ªåŠ¨ç”Ÿæˆ | ç”Ÿå‘½å‘¨æœŸç”Ÿæˆçš„ ADR ä¾›çŸ¥è¯†åº“åŠ è½½ |
| é¢†åŸŸæ¨¡å‹åŠ è½½ | é¢†åŸŸæ¨¡å‹æ›´æ–° | ç”Ÿå‘½å‘¨æœŸæ›´æ–°çš„æ¨¡å‹ä¾›åç»­éœ€æ±‚ä½¿ç”¨ |
| codewiki é›†æˆ | codewiki è§¦å‘æ›´æ–° | å®ç°å®Œæˆåè§¦å‘é‡æ–°ç”Ÿæˆ |

| æ–¹æ¡ˆ2 (æµ‹è¯•) | æ–¹æ¡ˆ3 (ç”Ÿå‘½å‘¨æœŸ) | äº¤äº’è¯´æ˜ |
|-------------|-----------------|---------|
| æµ‹è¯•è¦†ç›–ç‡è®°å½• | Registry å­˜å‚¨ | æµ‹è¯•æŒ‡æ ‡å­˜å…¥ç‰¹æ€§è®°å½• |
| æµ‹è¯•ç­–ç•¥å†³ç­– | ADR ç”Ÿæˆ | é‡è¦æµ‹è¯•å†³ç­–ç”Ÿæˆ ADR |

---

## 7. é£é™©ä¸ç¼“è§£

| é£é™© | å¯èƒ½æ€§ | å½±å“ | ç¼“è§£æªæ–½ |
|------|--------|------|---------|
| Registry æ–‡ä»¶è¿‡å¤§ | ä¸­ | æŸ¥è¯¢å˜æ…¢ | æŒ‰å¹´/å­£åº¦åˆ†ç‰‡å­˜å‚¨ |
| è‡ªåŠ¨æå–ä¸å‡†ç¡® | ä¸­ | çŸ¥è¯†è´¨é‡ä¸‹é™ | äººå·¥å®¡æ ¸ + æå–è§„åˆ™è¿­ä»£ |
| å†å²ä¿¡æ¯è¿‡å¤šå¹²æ‰° | ä½ | å¢åŠ è®¤çŸ¥è´Ÿæ‹… | ç›¸å…³æ€§æ’åº + æ‘˜è¦å‹ç¼© |
| ADR ç”Ÿæˆè¿‡å¤š | ä¸­ | å†³ç­–è®°å½•æ³›æ»¥ | é‡è¦æ€§é˜ˆå€¼åˆ¤æ–­ |

---

## 8. æ€»ç»“

æœ¬æ–¹æ¡ˆé€šè¿‡å¼•å…¥ **Feature Registry** å’Œ **çŸ¥è¯†æ²‰æ·€æœºåˆ¶**ï¼Œè§£å†³äº† SpecKit ç”Ÿæˆæ–‡æ¡£"ä¸€æ¬¡æ€§ä½¿ç”¨"çš„é—®é¢˜ï¼Œå®ç°äº†ï¼š

1. **çŸ¥è¯†å¤ç”¨**: å†å²éœ€æ±‚çš„å†³ç­–å’Œç»éªŒå¯è¢«åç»­éœ€æ±‚è®¿é—®
2. **ä¸€è‡´æ€§ä¿éšœ**: æ–°è®¾è®¡è‡ªåŠ¨æ£€æµ‹ä¸å†å²å†³ç­–çš„å†²çª
3. **æŒç»­å­¦ä¹ **: æ¯æ¬¡è¿­ä»£éƒ½ä¸ºçŸ¥è¯†åº“è´¡çŒ®æ–°å†…å®¹
4. **å¯è¿½æº¯æ€§**: å®Œæ•´çš„ç‰¹æ€§æ¼”è¿›å†å²å’Œå†³ç­–é“¾è·¯

ä¸æ–¹æ¡ˆ1ï¼ˆçŸ¥è¯†åº“é›†æˆï¼‰å’Œæ–¹æ¡ˆ2ï¼ˆæµ‹è¯•å¢å¼ºï¼‰é…åˆï¼Œæ„å»ºå®Œæ•´çš„ **çŸ¥è¯†é©±åŠ¨ + æµ‹è¯•ä¼˜å…ˆ + æŒç»­å­¦ä¹ ** çš„ SpecKit 2.0 ä½“ç³»ã€‚
