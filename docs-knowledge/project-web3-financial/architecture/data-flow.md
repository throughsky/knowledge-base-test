# 数据流

## 稳定币铸造流程

```
用户                Stablecoin        Compliance        Custody          Blockchain
 │                    │                  │                │                  │
 │  铸币请求          │                  │                │                  │
 │───────────────────>│                  │                │                  │
 │                    │  合规检查        │                │                  │
 │                    │─────────────────>│                │                  │
 │                    │  检查结果        │                │                  │
 │                    │<─────────────────│                │                  │
 │                    │                  │  抵押确认      │                  │
 │                    │──────────────────────────────────>│                  │
 │                    │                  │  确认结果      │                  │
 │                    │<──────────────────────────────────│                  │
 │                    │                  │                │   铸币交易       │
 │                    │─────────────────────────────────────────────────────>│
 │                    │                  │                │   交易确认       │
 │                    │<─────────────────────────────────────────────────────│
 │  铸币完成          │                  │                │                  │
 │<───────────────────│                  │                │                  │
```

## RWA发行流程

```
发行方              RWA Service       Compliance        External
 │                    │                  │              Valuator
 │  资产入驻          │                  │                │
 │───────────────────>│                  │                │
 │                    │  请求估值        │                │
 │                    │─────────────────────────────────>│
 │                    │  估值报告        │                │
 │                    │<─────────────────────────────────│
 │                    │  法律审核        │                │
 │                    │─────────────────>│                │
 │                    │  审核结果        │                │
 │                    │<─────────────────│                │
 │  创建代币          │                  │                │
 │───────────────────>│                  │                │
 │  开启发行          │                  │                │
 │───────────────────>│                  │                │
```

## 事件驱动通信

```
┌──────────────┐    MintCompleted     ┌──────────────┐
│  Stablecoin  │ ──────────────────> │   Reserve    │
│   Service    │                     │   Service    │
└──────────────┘                     └──────────────┘
       │
       │ StablecoinCreated
       ▼
┌──────────────┐                     ┌──────────────┐
│   Lending    │                     │   Staking    │
│   Service    │                     │   Service    │
└──────────────┘                     └──────────────┘
```

## 消息队列

| 交换机 | 路由键 | 消费者 |
|--------|--------|--------|
| stablecoin.events | mint.completed | reserve, stats |
| stablecoin.events | redemption.settled | reserve, notification |
| rwa.events | offering.settled | token-distribution |
| rwa.events | dividend.declared | account, notification |
