# 企业技术宪法 (L0)

**版本**: 1.1.0
**维护者**: 架构委员会
**更新频率**: 季度评审
**最后更新**: 2025-12-01

---

## 概述

本仓库包含企业级强制规范，所有项目和仓库必须遵循。这些原则源自金融级系统的最佳实践，确保代码质量、系统安全和架构一致性。

## 目录结构

```
enterprise-standards/
├── README.md                    # 本文件
├── constitution/                # 技术宪法
│   └── architecture-principles.md
├── standards/                   # 编码规范
│   ├── coding-standards.md
│   └── api-design.md
├── technology-radar/            # 技术雷达
│   └── radar.md
└── governance/                  # 治理流程
    └── review-process.md
```

## 核心原则 (九大原则)

### 强制执行原则

| 编号 | 原则 | 说明 |
|------|------|------|
| I | **测试驱动开发 (TDD)** | 测试优先，核心业务覆盖率 ≥ 80%，工具类 ≥ 90% |
| II | **规则至上架构** | `.cursor/rules/` 规则零偏差执行，规则优先级 L0 > L1 > L2 > L3 > L4 |
| III | **微服务架构纯粹性** | 严格分层 Controller → Service → Mapper，禁止跨层调用 |
| IV | **金融级安全优先** | 全部输入校验，敏感信息加密，完整审计日志 |
| V | **RESTful API 标准化** | 统一响应格式 `CommonResponse<T>`，仅使用 GET/POST 方法 |
| VI | **生产就绪代码完整性** | 禁止 TODO、占位代码、简化实现 |
| VII | **多平台后台架构** | 支持移动端/PC端，统一业务逻辑层 |
| VIII | **简洁性原则 (YAGNI/KISS)** | 按需创建，避免过度设计 |
| IX | **事件驱动与审计追踪** | 业务解耦，全链路审计，幂等性保证 |

### 通用原则

1. **12-Factor App** - 云原生应用标准
2. **领域驱动设计** - 业务与技术对齐
3. **API优先** - 契约先于实现
4. **可观测性设计** - 日志/指标/追踪三支柱
5. **安全内建** - 安全融入设计

## 合规要求

- 所有项目必须在 `CLAUDE.md` 中声明继承本规范
- 架构评审时检查合规性
- 例外需申请并记录
- 所有 PR/代码审查必须验证章程符合性
- 复杂性引入必须在 plan.md 中论证

## 质量门禁

| 检查项 | 要求 |
|--------|------|
| 测试覆盖率 | 核心业务 ≥ 80%，工具类 ≥ 90% |
| 代码审查 | 所有代码必须经过 Peer Review |
| 静态检查 | Checkstyle、SpotBugs、SonarQube |
| 安全扫描 | OWASP Dependency-Check |
| 性能基准 | 关键接口响应时间 < 200ms (P95) |
| 审计完整性 | 所有关键操作必须有审计日志 |

## AI上下文

```
<!-- AI-CONTEXT
这是L0层企业宪法，所有项目必须遵循。
检查要点：
- TDD: 测试优先，AAA模式，覆盖率达标
- 分层: Controller → Service → Mapper，禁止跨层
- API: GET/POST only，CommonResponse<T>统一封装
- 安全: @Valid校验，审计日志，敏感信息加密
- 事件驱动: AOP切面，事件监听器，消息异步化
- 代码完整: 禁止TODO，禁止占位代码
-->
```
