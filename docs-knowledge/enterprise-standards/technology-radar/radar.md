# 技术雷达

**更新日期**: 2025-12-01
**版本**: 1.1.0

---

## ADOPT (推荐采用)

### 核心技术栈 (强制)

| 技术 | 版本要求 | 用途 | 说明 |
|------|----------|------|------|
| Java | 17+ LTS | 后端开发 | 长期支持版本，禁止 8/11 |
| Spring Boot | 3.x | 应用框架 | 云原生支持 |
| Gradle | ≥ 8.14 | 构建工具 | **强制**，禁止 Maven |
| MySQL | 8.x | 关系数据库 | 主数据存储 |
| MyBatis | 注解模式 | ORM 框架 | **强制**，非 JPA/Hibernate |
| Redis | 7.x | 缓存 | 会话/缓存/分布式锁 |

### 事件驱动技术栈 (强制)

| 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|
| Activiti | 7.x | 工作流引擎 | 事件监听、流程部署 |
| RabbitMQ | 3.x | 消息队列 | 审计消息异步发送 |
| Spring AOP | - | 切面编程 | 用户追踪、日志记录 |
| Caffeine | - | 本地缓存 | 流程定义 1h TTL，用户 30s TTL |

### 测试与质量

| 技术 | 用途 | 说明 |
|------|------|------|
| JUnit 5 | 单元测试 | 测试框架 |
| Mockito | Mock 框架 | 依赖模拟 |
| AssertJ | 断言库 | 流式断言 |
| Springdoc | API 文档 | OpenAPI 3 生成 |

### 日志与序列化

| 技术 | 用途 | 说明 |
|------|------|------|
| SLF4J + Logback | 日志框架 | 结构化日志 |
| Jackson | JSON 序列化 | Java 8 时间支持 |

### 基础设施

| 技术 | 用途 | 说明 |
|------|------|------|
| Kubernetes | 容器编排 | 生产部署 |
| Docker | 容器化 | 应用打包 |
| Prometheus | 监控指标 | 指标暴露 |

### Web3 技术

| 技术 | 用途 | 说明 |
|------|------|------|
| Solidity | 智能合约 | EVM链合约 |
| ethers.js | Web3交互 | 前端链交互 |
| Hardhat/Foundry | 合约开发 | 开发测试框架 |

---

## TRIAL (试验阶段)

| 技术 | 用途 | 说明 | 评估状态 |
|------|------|------|----------|
| Rust | 高性能服务 | 链下计算密集型 | 性能验证中 |
| Go | 基础设施 | 工具类服务 | 小规模试用 |
| ClickHouse | 分析数据库 | 链上数据分析 | POC 阶段 |
| Move | 智能合约 | Aptos/Sui链 | 学习评估 |
| GraalVM | 原生编译 | 启动优化 | 性能测试中 |

---

## ASSESS (评估中)

| 技术 | 用途 | 说明 | 评估计划 |
|------|------|------|----------|
| Cairo | 智能合约 | StarkNet | Q1 2026 评估 |
| Deno | 运行时 | 边缘计算 | 持续关注 |
| Virtual Threads | 并发模型 | Java 21 特性 | 生产验证中 |
| Spring Modulith | 模块化 | 单体到微服务 | 架构评估 |

---

## HOLD (暂缓/禁止使用)

| 技术 | 原因 | 替代方案 |
|------|------|----------|
| Java 8/11 | 已过期 | 迁移到 Java 17+ |
| Maven | 项目约定 | **强制使用 Gradle** |
| JPA/Hibernate | 项目约定 | **强制使用 MyBatis 注解模式** |
| Web3.js | 维护状态 | 迁移到 ethers.js |
| Truffle | 生态转移 | 迁移到 Hardhat/Foundry |
| MongoDB | 非核心场景 | 限制使用，优先 MySQL |
| PUT/DELETE API | 项目约定 | **仅使用 GET/POST** |

---

## 技术选型决策树

```
新服务/新功能？
├── 后端服务
│   ├── 语言: Java 17+ (强制)
│   ├── 框架: Spring Boot 3.x (强制)
│   ├── 构建: Gradle ≥ 8.14 (强制)
│   ├── ORM: MyBatis 注解模式 (强制)
│   ├── 工作流: Activiti 7.x (需要时)
│   └── 消息: RabbitMQ (审计场景)
│
├── 智能合约
│   ├── EVM 链: Solidity + Hardhat
│   └── 非 EVM: 评估 Move/Cairo
│
└── 前端 Web3
    └── 链交互: ethers.js (强制)
```

---

## 技术债务清理计划

| 债务项 | 影响 | 计划 | 负责人 |
|--------|------|------|--------|
| Java 11 升级 | 安全风险 | Q1 2025 | 架构组 |
| Web3.js 迁移 | 维护困难 | Q2 2025 | 前端组 |
| Maven 迁移 | 构建不一致 | 持续进行 | 各团队 |
