---
title: Prompt工程原则
author:
created:
updated:
version: 1.0
status: 草稿
tags: [AI协作, Prompt工程]
---

# Prompt工程原则

> 编写高质量Prompt的最佳实践，帮助团队更好地利用AI工具。

## 核心原则

### 1. 清晰性原则
✅ **明确意图** - 清楚地表达你想要什么
```
❌ "解释这个函数"
✅ "解释函数calculateTotalPrice的作用，包括参数说明、返回值、使用示例及注意事项"
```

### 2. 上下文原则
✅ **提供充分上下文** - 让AI理解背景
```
本项目使用React 18和TypeScript，遵循函数式组件和Hooks模式。
请帮我重构以下类组件为函数组件：
[代码]
```

### 3. 结构化原则
✅ **使用结构化格式** - 便于理解和执行
```markdown
## 任务
优化数据库查询性能

## 当前查询
[SQL代码]

## 要求
1. 查询响应时间 < 100ms
2. 支持1000+并发
3. 不改变查询结果

## 环境
- MySQL 8.0
- 数据量: 100万+
- 已有索引: [索引列表]
```

### 4. 分步原则
✅ **复杂任务分步骤** - 循序渐进
```markdown
步骤1: 分析这段代码的性能瓶颈
步骤2: 提出3个优化方案
步骤3: 实现最优方案
步骤4: 编写测试用例验证
[代码]
```

### 5. 示例原则
✅ **提供示例** - 展示期望的输出格式
```
请按照以下格式生成API文档：

### 接口名称
**描述**: [功能描述]
 **请求**  : `POST /api/users`
 **参数**  :
- `name` (string): 用户名
- `email` (string): 邮箱
**响应**:
```json
{
  "code": 200,
  "data": {"id": 1, "name": "test"}
}
```

现在为登录接口生成文档。
```

## Prompt模板库

### 代码生成

#### 模板1: 生成业务逻辑
```markdown
## 需求描述
[详细描述功能需求]

## 技术栈
- 框架: [如React, Vue, Spring Boot]
- 语言: [如TypeScript, Java, Python]
- 其他要求: [如类型安全、单元测试]

## 约束条件
- 遵循现有代码规范
- 使用函数式编程
- 添加必要的注释
- 处理边界情况

请生成完整可运行的代码。
```

#### 模板2: 生成测试用例
```markdown
## 待测试代码
[代码]

## 测试要求
- 覆盖率 > 80%
- 包含正向和反向测试
- 模拟外部依赖
- 使用[测试框架名称]

请生成完整的测试代码。
```

### 代码审查

```markdown
## 审查代码
[代码]

## 审查维度
1. 代码质量
2. 性能问题
3. 安全漏洞
4. 可维护性
5. 最佳实践

请详细分析每个维度，给出具体建议。
```

### 代码重构

```markdown
## 重构目标
[说明重构目的，如提高性能、增强可读性]

## 当前代码
[代码]

## 约束条件
- 不改变外部行为
- 保持向后兼容
- 添加必要的测试

请提供重构后的代码和说明。
```

### 文档生成

```markdown
## 代码说明
为以下代码生成技术文档：

[代码]

## 文档要求
- 功能说明
- 参数说明
- 返回值说明
- 使用示例
- 注意事项
- 版本历史
```

### Debug辅助

```markdown
## 问题描述
[详细描述问题现象]

## 相关代码
[代码]

## 环境信息
- 操作系统:
- 浏览器/Node版本:
- 相关依赖版本:

## 已尝试的解决方案
-[方案1]
-[方案2]

请分析问题原因并提供解决方案。
```

## 最佳实践

### 编码场景

#### 场景1: 解释复杂算法
```markdown
请用通俗易懂的语言解释这段算法：
1. 使用类比说明
2. 分步骤讲解
3. 提供可视化示例
4. 分析时间/空间复杂度
5. 说明适用场景

[算法代码]
```

#### 场景2: 技术选型
```markdown
## 背景
[项目背景和技术要求]

## 候选技术
1. 技术A: [优缺点]
2. 技术B: [优缺点]
3. 技术C: [优缺点]

请从以下维度分析：
- 开发效率
- 性能表现
- 社区生态
- 学习成本
- 长期维护
并给出最终推荐。
```

### 需求分析场景

```markdown
## 用户故事
作为[角色]，我希望[功能]，以便[价值]

## 验收标准
- [标准1]
- [标准2]
- [标准3]

请帮助我：
1. 分析需求的合理性
2. 识别潜在风险
3. 提出技术实现方案
4. 估算开发工时
```

## 常见陷阱

### ❌ 要避免的Prompt

1. **过于模糊**
```
❌ "帮我写代码"
✅ "请帮我写一个用户注册的API接口，使用Spring Boot，包含用户名、邮箱、密码字段，要求密码加密存储"
```

2. **缺少上下文**
```
❌ "这个报错怎么解决？Error: null pointer"
✅ "在Spring Boot服务中遇到空指针异常，报错堆栈如下...[堆栈信息]，相关代码...[代码]，请分析问题原因"
```

3. **期望过多**
```
❌ "帮我构建一个完整的电商系统"
✅ "请帮我设计用户注册模块的数据库表结构，包含用户基本信息和验证状态"
```

4. **格式不清晰**
```
❌ 大段文字不加格式
✅ 使用Markdown格式，清晰的标题、列表、代码块
```

## 高级技巧

### 角色设定

```markdown
你是一位有10年经验的高级前端工程师，擅长React和性能优化。
请帮我重构这段代码，提高其可读性和性能：
[代码]
```

### 思维链 (Chain of Thought)

```markdown
请按以下步骤分析这个问题：
1. 理解问题背景
2. 识别关键要素
3. 分析可能原因
4. 设计解决方案
5. 评估方案优劣
6. 给出最终推荐

问题是：[问题描述]
```

### 多轮对话

第一轮：提供背景信息
第二轮：提出具体问题
第三轮：细化需求
第四轮：验证方案

### Few-Shot示例

```markdown
## 示例1
输入: [输入示例]
输出: [期望输出]

## 示例2
输入: [输入示例]
输出: [期望输出]

## 实际任务
输入: [实际输入]
请按照上述示例的格式输出。
```

---

## 质量控制

### Prompt自查清单

在提交Prompt前，检查：

- [ ] 背景信息是否充分
- [ ] 任务目标是否明确
- [ ] 输出格式是否指定
- [ ] 约束条件是否列出
- [ ] 是否包含必要示例
- [ ] 技术栈是否说明
- [ ] 期望结果是否描述清楚

### 迭代优化

1. **分析输出**: AI的回答是否满足需求
2. **找出差距**: 哪些信息缺失或不准确
3. **补充信息**: 在下一轮对话中补充
4. **优化Prompt**: 总结经验，改进Prompt模板

---

## 团队规范

### Prompt保存

所有常用的Prompt应该：
- 保存在Prompt模板库
- 添加使用说明
- 定期更新优化
- 分享最佳实践

### 经验分享

每周技术分享可以包括：
- 好用的Prompt示例
- 踩过的坑和解决方案
- 新的使用技巧
- 效率提升案例

---

## 相关文档

- [Prompt模板库](./prompt-templates/)
- [上下文工程](../04.1-Prompt工程/context-engineering.md)
- [最佳实践](../04.1-Prompt工程/prompt-best-practices.md)
```